{"version":3,"file":"CreateUser-aLNjzDP0.js","sources":["../../src/assets/upload.png","../../src/components/Admin/Management/CreateUser.tsx"],"sourcesContent":["export default \"__VITE_ASSET__tWrE8ip7__\"","import React, {useState} from 'react'\r\nimport toast from 'react-hot-toast'\r\nimport Upload from '../../../assets/upload.png'\r\nimport { MdOutlineAdd } from \"react-icons/md\";\r\n\r\ninterface UserData {\r\n  username: string;\r\n  email: string;\r\n  password: string;\r\n  picture: string;\r\n  bio: string;\r\n  badges: string[];\r\n  achievements: string[];\r\n}\r\n\r\nconst CreatePage = () => {\r\n\r\n  const [newUser, setNewUser] = React.useState<UserData>({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    picture: '',\r\n    bio: '',\r\n    badges: [],\r\n    achievements: [],\r\n  });\r\n  \r\n    console.log(newUser.picture);\r\n    const [options, setOptions] = useState([\"1\", \"2\", \"3\"]);\r\n    const [selectedOption, setSelectedOption] = useState(\"\");\r\n  \r\n    const handleChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n      const selectedBadge = e.target.value;\r\n  \r\n      setNewUser((prevState: UserData) => ({\r\n          ...prevState,\r\n          badges: [...prevState.badges, selectedBadge],\r\n      }));\r\n  \r\n      setOptions((prevOptions) => prevOptions.filter((option) => option !== selectedBadge));\r\n  \r\n      setSelectedOption(\"\");\r\n    };\r\n  const [achievement, setAchievement] = useState('');\r\n\r\n  const handleAdd = () => {\r\n    setNewUser((prevState: UserData) => ({\r\n      ...prevState,\r\n      achievements: [...prevState.achievements, achievement],\r\n    }));\r\n    setAchievement('');\r\n  }\r\n\r\n  const handleCreateUser = () => {\r\n    console.log(newUser);\r\n    toast.success(\"User created successfully!\");\r\n    setNewUser({\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      picture: '',\r\n      bio: '',\r\n      badges: [],\r\n      achievements: [],\r\n    });\r\n    setOptions([\"1\", \"2\", \"3\"]);\r\n  }\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n  const handleImageChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      // Update the picture field in newUser state\r\n      setNewUser(prevState => ({\r\n        ...prevState,\r\n        picture: URL.createObjectURL(file)\r\n      }));\r\n      \r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setImagePreview(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='w-full min-h-screen bg-gray'>\r\n        <div className='text-5xl font-bold text-center pt-7'>\r\n          Create a new user\r\n        </div>\r\n        <div className='w-[80%] sm:w-[70%] mx-auto mt-10 flex flex-col items-center justify-center'>\r\n          <div className='flex flex-col sm:flex-row justify-between w-full'>\r\n            <input\r\n              type='text'\r\n              value={newUser.username}\r\n              onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\r\n              placeholder='Username'\r\n              className='w-full sm:w-[47%] bg-white border rounded-md p-2'\r\n            />\r\n            <input\r\n              type='email'\r\n              value={newUser.email}\r\n              onChange={(e) => setNewUser({ ...newUser, email: e.target.value })}\r\n              placeholder='Email'\r\n              className='w-full sm:w-[47%] mt-2 sm:mt-0 bg-white border rounded-md p-2'              \r\n            />\r\n          </div>\r\n          <div className='flex flex-col sm:flex-row justify-between w-full mt-3'>\r\n            <input\r\n              type='password'\r\n              value={newUser.password}\r\n              onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\r\n              placeholder='Password'\r\n              className='w-full sm:w-[47%] bg-white border rounded-md p-2'\r\n            />\r\n            <input\r\n              type='bio'\r\n              value={newUser.bio}\r\n              onChange={(e) => setNewUser({ ...newUser, bio: e.target.value })}\r\n              placeholder='Bio'\r\n              className='w-full sm:w-[47%] mt-2 sm:mt-0 bg-white border rounded-md p-2'              \r\n            />\r\n          </div>\r\n          <div className='flex flex-col sm:flex-row justify-between w-full mt-3'>\r\n            <select\r\n              className=\"w-full sm:w-[47%] bg-white border rounded-md p-2\"\r\n              value={selectedOption}\r\n              onChange={handleChange} // Listen for change\r\n            >\r\n              <option value=\"\" disabled>\r\n                Select a badge\r\n              </option>\r\n              {options.map((badge) => (\r\n                <option value={badge} key={badge}>\r\n                  Badge {badge}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className='flex flex-row w-full sm:w-[47%] bg-white mt-2 sm:mt-0 border rounded-md pl-2 group focus-within:outline'>\r\n              <input\r\n                type='achievement'\r\n                value={achievement}\r\n                onChange={(e) => {setAchievement(e.target.value)}}\r\n                placeholder='Achievement'\r\n                className='w-[90%] py-2 focus:outline-none'              \r\n              />\r\n              <button onClick={handleAdd} className='border-l group-focus-within:outline hover:bg-gray-200 rounded-r-md flex justify-center items-center w-[10%]'>\r\n                <MdOutlineAdd className='text-3xl'/>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {/*newUser.picture && (\r\n          <img\r\n            src={newUser.picture}\r\n            alt=\"profile\"\r\n            className=\"w-[10rem] h-[10rem] rounded-full mt-3\"\r\n          />\r\n          )  \r\n          */}\r\n          <label\r\n                  className=\"flex flex-row justify-center items-center w-full h-[10rem] mx-auto mt-3 border cursor-pointer\"\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageChange}\r\n                    className=\"hidden\"\r\n                  />\r\n                  <img\r\n                    src={(typeof imagePreview === \"string\" ? imagePreview : undefined) || Upload} // Use the uploaded image preview or fallback to the default image\r\n                    alt=\"Preview\"\r\n                    className=\"w-[8rem] h-[8rem]\" // Ensure the image covers the container\r\n                  />\r\n                </label>\r\n          <button\r\n            onClick={() => handleCreateUser()}\r\n            className='w-full sm:w-[50%] text-xl font-semibold hover:bg-gray-200 bg-white border rounded-md p-2 mt-3 mb-3'\r\n          >\r\n            Create\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreatePage"],"names":["Upload","CreatePage","newUser","setNewUser","React","options","setOptions","useState","selectedOption","setSelectedOption","handleChange","e","selectedBadge","prevState","prevOptions","option","achievement","setAchievement","handleAdd","handleCreateUser","toast","imagePreview","setImagePreview","handleImageChange","event","file","_a","reader","jsx","Fragment","jsxs","badge","MdOutlineAdd"],"mappings":"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"}